
> servidor-automacao@1.0.0 test /home/ubuntu/servidor-automacao
> vitest run


 RUN  v2.1.9 /home/ubuntu/servidor-automacao

 ‚úì server/_core/whatsapp-rate-limiter.test.ts (12 tests) 14ms
Sourcemap for "/home/ubuntu/servidor-automacao/node_modules/.pnpm/node-cron@4.2.1/node_modules/node-cron/dist/esm/node-cron.js" points to missing source files
stdout | server/telemetry.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stdout | server/obsidian-critical-features.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stdout | server/obsidian-improvements.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

 ‚úì server/desktop-shell-screenshot.test.ts (16 tests) 597ms
stderr | server/telemetry.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stderr | server/obsidian-critical-features.test.ts
[Health Checks] Sistema degraded: database, cpu

stderr | server/obsidian-improvements.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/telemetry.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/obsidian-improvements.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/obsidian-critical-features.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

 ‚úì server/_core/uri-schemes.test.ts (27 tests) 17ms
stdout | server/obsidian-critical-features.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/telemetry.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/obsidian-improvements.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

 ‚úì server/_core/python-validator.test.ts (23 tests) 13ms
 ‚úì server/db-desktop-control.test.ts (39 tests) 1324ms
   ‚úì Desktop Control - Helpers CRUD > updateAgentPing > deve atualizar lastPing do agent 516ms
2025-11-28 10:21:55.106003: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:55.121766: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:55.148374: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2025-11-28 10:21:55.164640: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2025-11-28 10:21:55.196979: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:55.236815: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚úì server/telemetry.test.ts (16 tests) 241ms
stdout | server/routers/perplexity.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stderr | server/routers/perplexity.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/routers/perplexity.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/routers/deepsite.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stdout | server/routers/perplexity.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

 ‚úì server/routers/obsidian.test.ts (15 tests) 38ms
stderr | server/routers/deepsite.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/routers/deepsite.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/routers/deepsite.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/obsidian-improvements.test.ts > üéØ 3 Melhorias Obsidian - Testes de Integra√ß√£o > 2Ô∏è‚É£ UI de Sincroniza√ß√£o - Sync Manual e Auto-Sync > deve executar sincroniza√ß√£o manual do vault
[ObsidianSync] Sync conclu√≠do para vault 30053 em 34ms

stdout | server/obsidian-improvements.test.ts > üéØ 3 Melhorias Obsidian - Testes de Integra√ß√£o > 2Ô∏è‚É£ UI de Sincroniza√ß√£o - Sync Manual e Auto-Sync > deve ativar auto-sync para o vault
[ObsidianSync] Auto-sync iniciado para vault 30053 (a cada 5 min)

2025-11-28 10:21:56.373017: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:56.415163: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚úì server/routers/perplexity.test.ts (13 tests) 17ms
stdout | server/obsidian-improvements.test.ts > üéØ 3 Melhorias Obsidian - Testes de Integra√ß√£o > 2Ô∏è‚É£ UI de Sincroniza√ß√£o - Sync Manual e Auto-Sync > deve desativar auto-sync para o vault
[ObsidianSync] Auto-sync parado para vault 30053

2025-11-28 10:21:56.665981: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:56.715751: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stderr | server/routers/deepsite.test.ts > DeepSite Integration > analisarDocumento > deve analisar texto e retornar estrutura v√°lida
[DeepSite] Erro ao chamar modelo pierreguillou/bert-base-cased-pt-lenerbr: Error: API Error: 404 - Not Found
    at callHuggingFaceAPI (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:109:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Promise.allSettled (index 1)
    at Module.analisarDocumento (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:237:9)
    at /home/ubuntu/servidor-automacao/server/routers/deepsite.ts:77:14
    at resolveMiddleware (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at procedure (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20)
    at file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
[DeepSite] Erro ao chamar modelo cardiffnlp/twitter-xlm-roberta-base-sentiment: Error: API Error: 404 - Not Found
    at callHuggingFaceAPI (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:109:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Promise.allSettled (index 2)
    at Module.analisarDocumento (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:237:9)
    at /home/ubuntu/servidor-automacao/server/routers/deepsite.ts:77:14
    at resolveMiddleware (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at procedure (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20)
    at file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
[DeepSite] Erro ao chamar modelo facebook/bart-large-cnn: Error: API Error: 404 - Not Found
    at callHuggingFaceAPI (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:109:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Promise.allSettled (index 0)
    at Module.analisarDocumento (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:237:9)
    at /home/ubuntu/servidor-automacao/server/routers/deepsite.ts:77:14
    at resolveMiddleware (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at procedure (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20)
    at file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

stderr | server/routers/deepsite.test.ts > DeepSite Integration > analisarDocumento > deve analisar texto e retornar estrutura v√°lida
[DeepSite] Erro ao chamar modelo papluca/xlm-roberta-base-language-detection: Error: API Error: 404 - Not Found
    at callHuggingFaceAPI (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:109:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Promise.allSettled (index 3)
    at Module.analisarDocumento (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:237:9)
    at /home/ubuntu/servidor-automacao/server/routers/deepsite.ts:77:14
    at resolveMiddleware (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at procedure (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20)
    at file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

stderr | server/routers/deepsite.test.ts > DeepSite Integration > extrairEntidades > deve retornar estrutura v√°lida de entidades
[DeepSite] Erro ao chamar modelo pierreguillou/bert-base-cased-pt-lenerbr: Error: API Error: 404 - Not Found
    at callHuggingFaceAPI (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:109:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.extrairEntidades (/home/ubuntu/servidor-automacao/server/_core/deepsite.ts:353:18)
    at /home/ubuntu/servidor-automacao/server/routers/deepsite.ts:258:14
    at resolveMiddleware (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at callRecursive (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20)
    at procedure (file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20)
    at file:///home/ubuntu/servidor-automacao/node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
    at /home/ubuntu/servidor-automacao/server/routers/deepsite.test.ts:102:25

stdout | server/routers/desktop-control.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

 ‚úì server/routers/deepsite.test.ts (11 tests) 191ms
stderr | server/routers/desktop-control.test.ts
[Health Checks] Sistema unhealthy: database, memory, cpu

stdout | server/routers/desktop-control.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/routers/desktop-control.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

 ‚úì server/obsidian-critical-features.test.ts (10 tests) 2065ms
   ‚úì üî¥ Funcionalidades Cr√≠ticas Obsidian > 2Ô∏è‚É£ Sincroniza√ß√£o Real com Filesystem > deve retornar erro se vault n√£o tiver caminho configurado 344ms
   ‚úì üî¥ Funcionalidades Cr√≠ticas Obsidian > 3Ô∏è‚É£ Atualiza√ß√£o Autom√°tica de Backlinks > deve atualizar backlinks quando conte√∫do √© modificado 382ms
stdout | server/scheduler.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stderr | server/scheduler.test.ts
[Health Checks] Sistema unhealthy: database, cpu

2025-11-28 10:21:57.739594: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
stdout | server/scheduler.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

2025-11-28 10:21:57.781296: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚úì server/obsidian-improvements.test.ts (11 tests) 2539ms
   ‚úì üéØ 3 Melhorias Obsidian - Testes de Integra√ß√£o > 2Ô∏è‚É£ UI de Sincroniza√ß√£o - Sync Manual e Auto-Sync > deve executar sincroniza√ß√£o manual do vault 351ms
   ‚úì üéØ 3 Melhorias Obsidian - Testes de Integra√ß√£o > 3Ô∏è‚É£ Parser de Wikilinks - Graph View com Backlinks Reais > deve ignorar wikilinks para notas inexistentes 310ms
stdout | server/scheduler.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/obsidian-security.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

 ‚úì server/routers/desktop-control.test.ts (13 tests) 251ms
stderr | server/obsidian-security.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/obsidian-security.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/obsidian-security.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/obsidian-read-permissions.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

2025-11-28 10:21:58.486997: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:58.530111: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stderr | server/obsidian-read-permissions.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/obsidian-read-permissions.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should create a schedule (once)
[Scheduler] Created schedule 30081

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should create a schedule (interval)
[Scheduler] Registered interval schedule 30082: 60min
[Scheduler] Created schedule 30082

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should create a schedule (cron)
[Scheduler] Registered cron schedule 30083: 0 2 * * *
[Scheduler] Created schedule 30083

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should pause a schedule
[Scheduler] Created schedule 30084

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should pause a schedule
[Scheduler] Paused schedule 30084

stdout | server/obsidian-read-permissions.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should resume a schedule
[Scheduler] Created schedule 30085

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should resume a schedule
[Scheduler] Paused schedule 30085

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should resume a schedule
[Scheduler] Resumed schedule 30085

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should delete a schedule
[Scheduler] Created schedule 30086

stdout | server/scheduler.test.ts > Scheduler System > scheduler-service > should delete a schedule
[Scheduler] Deleted schedule 30086

stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should create schedule via tRPC
[Scheduler] Created schedule 30087

2025-11-28 10:21:58.900129: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should pause schedule via tRPC
[Scheduler] Created schedule 30088

stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should pause schedule via tRPC
[Scheduler] Paused schedule 30088

2025-11-28 10:21:58.939874: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should resume schedule via tRPC
[Scheduler] Created schedule 30089

stdout | server/desktop-control-e2e.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should resume schedule via tRPC
[Scheduler] Paused schedule 30089

stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should resume schedule via tRPC
[Scheduler] Resumed schedule 30089

stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should delete schedule via tRPC
[Scheduler] Created schedule 30090

 ‚úì server/services/cache-manager.test.ts (18 tests) 596ms
stdout | server/scheduler.test.ts > Scheduler System > scheduler router > should delete schedule via tRPC
[Scheduler] Deleted schedule 30090

 ‚úì server/scheduler.test.ts (12 tests) 449ms
stderr | server/desktop-control-e2e.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/desktop-control-e2e.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

2025-11-28 10:21:59.193954: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:59.234360: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stdout | server/desktop-control-e2e.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve fazer retry at√© conseguir sucesso
[Retry] Tentativa 1/5 falhou. Aguardando 10ms antes de tentar novamente. Erro: falha 1

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve fazer retry at√© conseguir sucesso
[Retry] Tentativa 2/5 falhou. Aguardando 20ms antes de tentar novamente. Erro: falha 2

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve falhar ap√≥s esgotar tentativas
[Retry] Tentativa 1/3 falhou. Aguardando 10ms antes de tentar novamente. Erro: sempre falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve falhar ap√≥s esgotar tentativas
[Retry] Tentativa 2/3 falhou. Aguardando 20ms antes de tentar novamente. Erro: sempre falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve respeitar backoff exponencial
[Retry] Tentativa 1/3 falhou. Aguardando 10ms antes de tentar novamente. Erro: falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve respeitar backoff exponencial
[Retry] Tentativa 2/3 falhou. Aguardando 20ms antes de tentar novamente. Erro: falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve chamar callback onRetry
[Retry] Tentativa 1/3 falhou. Aguardando 10ms antes de tentar novamente. Erro: falha 1

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve respeitar maxDelayMs
[Retry] Tentativa 1/5 falhou. Aguardando 10ms antes de tentar novamente. Erro: falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve respeitar maxDelayMs
[Retry] Tentativa 2/5 falhou. Aguardando 20ms antes de tentar novamente. Erro: falha

 ‚úì server/obsidian-read-permissions.test.ts (11 tests) 119ms
stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve respeitar maxDelayMs
[Retry] Tentativa 3/5 falhou. Aguardando 20ms antes de tentar novamente. Erro: falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > retryWithBackoff > deve respeitar maxDelayMs
[Retry] Tentativa 4/5 falhou. Aguardando 20ms antes de tentar novamente. Erro: falha

stdout | server/_core/retry-handler.test.ts > Retry Handler > ServiceRetryManager > deve registrar tentativas de retry
[Retry] Tentativa 1/3 falhou. Aguardando 10ms antes de tentar novamente. Erro: falha

 ‚úì server/_core/retry-handler.test.ts (11 tests) 211ms
2025-11-28 10:21:59.761448: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:21:59.812414: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚úì server/dangerousCommands.test.ts (17 tests) 16ms
 ‚úì server/anti-hallucination.test.ts (11 tests) 14ms
 ‚úì server/obsidian-security.test.ts (8 tests) 914ms
   ‚úì üîí Funcionalidades Cr√≠ticas de Seguran√ßa Obsidian > 3Ô∏è‚É£ Sincroniza√ß√£o Bidirecional (Banco ‚Üí Filesystem) > deve retornar erro se vault n√£o tiver caminho configurado 354ms
stdout | server/desktop-control-e2e.test.ts > Desktop Control - Integra√ß√£o End-to-End > deve validar fluxo completo: listar agents ‚Üí enviar comando ‚Üí validar seguran√ßa
[CommandSecurity] Auditoria registrada: allowed - ls -la

stdout | server/desktop-control-e2e.test.ts > Desktop Control - Integra√ß√£o End-to-End > deve validar fluxo completo: listar agents ‚Üí enviar comando ‚Üí validar seguran√ßa
[CommandSecurity] Auditoria registrada: blocked - rm -rf /

stdout | server/desktop-control-e2e.test.ts > Desktop Control - Integra√ß√£o End-to-End > deve validar fluxo completo: listar agents ‚Üí enviar comando ‚Üí validar seguran√ßa
[CommandSecurity] Auditoria registrada: confirmed - rm -r /tmp/test

 ‚úì server/desktop-control-e2e.test.ts (7 tests) 349ms
 ‚úì server/routes/buscar-arquivos.test.ts (8 tests) 8ms
 ‚úì server/services/url-validator.test.ts (21 tests) 10ms
stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear rm -rf /
[CommandSecurity] Auditoria registrada: blocked - rm -rf /

stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear format
[CommandSecurity] Auditoria registrada: blocked - format C:

stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear dd if=
[CommandSecurity] Auditoria registrada: blocked - dd if=/dev/zero of=/dev/sda

stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear del /s /q
[CommandSecurity] Auditoria registrada: blocked - del /s /q C:\

stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear fork bomb
[CommandSecurity] Auditoria registrada: blocked - :(){ :|:& };:

stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear shutdown
[CommandSecurity] Auditoria registrada: blocked - shutdown -h now

stdout | server/command-security.test.ts > command-security > validateCommand - comandos perigosos > deve bloquear reboot
[CommandSecurity] Auditoria registrada: blocked - reboot

stdout | server/command-security.test.ts > command-security > validateCommand - comandos que requerem confirma√ß√£o > deve requerer confirma√ß√£o para rm -r
[CommandSecurity] Auditoria registrada: confirmed - rm -r /home/user/folder

stdout | server/command-security.test.ts > command-security > validateCommand - comandos que requerem confirma√ß√£o > deve requerer confirma√ß√£o para del /s
[CommandSecurity] Auditoria registrada: confirmed - del /s C:\temp

stdout | server/command-security.test.ts > command-security > validateCommand - comandos que requerem confirma√ß√£o > deve requerer confirma√ß√£o para git reset --hard
[CommandSecurity] Auditoria registrada: confirmed - git reset --hard HEAD~5

stdout | server/command-security.test.ts > command-security > validateCommand - comandos que requerem confirma√ß√£o > deve requerer confirma√ß√£o para git clean -fd
[CommandSecurity] Auditoria registrada: confirmed - git clean -fd

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir ls
[CommandSecurity] Auditoria registrada: allowed - ls -la

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir echo
[CommandSecurity] Auditoria registrada: allowed - echo "Hello World"

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir pwd
[CommandSecurity] Auditoria registrada: allowed - pwd

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir cat
[CommandSecurity] Auditoria registrada: allowed - cat file.txt

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir mkdir
[CommandSecurity] Auditoria registrada: allowed - mkdir /tmp/test

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir cd
[CommandSecurity] Auditoria registrada: allowed - cd /home/user

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir npm install
[CommandSecurity] Auditoria registrada: allowed - npm install express

stdout | server/command-security.test.ts > command-security > validateCommand - comandos seguros > deve permitir git status
[CommandSecurity] Auditoria registrada: allowed - git status

stdout | server/command-security.test.ts > command-security > validateCommand - edge cases > deve lidar com comando vazio
[CommandSecurity] Auditoria registrada: allowed - 

stdout | server/command-security.test.ts > command-security > validateCommand - edge cases > deve lidar com comando com m√∫ltiplos espa√ßos
[CommandSecurity] Auditoria registrada: allowed - ls    -la

stdout | server/command-security.test.ts > command-security > validateCommand - edge cases > deve ser case-insensitive para comandos perigosos
[CommandSecurity] Auditoria registrada: blocked - SHUTDOWN -h now

 ‚úì server/command-security.test.ts (22 tests) 586ms
stdout | server/notifications.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stderr | server/notifications.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/notifications.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/alerts.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stdout | server/notifications.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/obsidian-write-permissions.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

 ‚úì server/routes/skills.create.test.ts (4 tests) 287ms
stderr | server/alerts.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/alerts.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stderr | server/obsidian-write-permissions.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/obsidian-write-permissions.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/alerts.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

stdout | server/obsidian-write-permissions.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

2025-11-28 10:22:01.850858: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:22:01.892529: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stdout | server/ml-prediction.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stdout | server/notifications.test.ts > Notifications System > notification-service > should create a notification
[Notifications] Created notification 30065 for user 1

stdout | server/notifications.test.ts > Notifications System > notification-service > should notify when command is blocked
[Notifications] Created notification 30066 for user 1

stdout | server/notifications.test.ts > Notifications System > notification-service > should notify when agent goes offline
[Notifications] Created notification 30067 for user 1

stderr | server/ml-prediction.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/ml-prediction.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/notifications.test.ts > Notifications System > notification-service > should notify when agent comes online
[Notifications] Created notification 30068 for user 1

stdout | server/notifications.test.ts > Notifications System > notification-service > should notify when command fails
[Notifications] Created notification 30069 for user 1

2025-11-28 10:22:02.133509: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
stdout | server/notifications.test.ts > Notifications System > notification-service > should notify when screenshot is captured
[Notifications] Created notification 30070 for user 1

stdout | server/notifications.test.ts > Notifications System > notification-service > should notify when command succeeds
[Notifications] Created notification 30071 for user 1

2025-11-28 10:22:02.174872: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stdout | server/notifications.test.ts > Notifications System > notifications router > should mark notification as read
[Notifications] Created notification 30072 for user 1

 ‚úì server/notifications.test.ts (11 tests) 233ms
2025-11-28 10:22:02.247180: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
stdout | server/ml-prediction.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

2025-11-28 10:22:02.299289: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚ùØ server/alerts.test.ts (9 tests | 9 failed) 159ms
   √ó Sistema de Alertas > deve buscar ou criar configura√ß√£o de alertas 33ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
   √ó Sistema de Alertas > deve atualizar configura√ß√£o de alertas 11ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
   √ó Sistema de Alertas > deve listar templates de alertas 6ms
     ‚Üí Failed query: select `id`, `name`, `type`, `severity`, `email_subject`, `email_body`, `email_html`, `whatsapp_message`, `push_title`, `push_body`, `variables`, `is_active`, `is_system`, `created_at`, `updated_at` from `alert_templates` where `alert_templates`.`is_active` = ?
params: true
   √ó Sistema de Alertas > deve enviar alerta de teste 29ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
   √ó Sistema de Alertas > deve buscar hist√≥rico de alertas 28ms
     ‚Üí Failed query: select `id`, `user_id`, `config_id`, `type`, `severity`, `title`, `message`, `metadata`, `channels`, `email_sent`, `email_error`, `whatsapp_sent`, `whatsapp_error`, `push_sent`, `push_error`, `source_type`, `source_id`, `sent_at`, `created_at` from `alert_history` where `alert_history`.`user_id` = ? order by `alert_history`.`sent_at` desc limit ?
params: 1,10
   √ó Configura√ß√£o de Alertas > deve validar severidade m√≠nima 6ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
   √ó Configura√ß√£o de Alertas > deve validar throttling 5ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
   √ó Configura√ß√£o de Alertas > deve configurar hor√°rios permitidos 7ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
   √ó Configura√ß√£o de Alertas > deve configurar dias permitidos 30ms
     ‚Üí Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚úì server/obsidian-write-permissions.test.ts (4 tests) 48ms
stdout | server/routers/apis-personalizadas.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

stderr | server/routers/apis-personalizadas.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/routers/apis-personalizadas.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

 ‚úì server/routes/status.test.ts (2 tests) 106ms
2025-11-28 10:22:02.803960: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
stdout | server/routers/apis-personalizadas.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

2025-11-28 10:22:02.844139: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚ùØ server/ml-prediction.test.ts (7 tests | 5 failed | 2 skipped) 75ms
   √ó Machine Learning Preditivo > deve listar m√©tricas dispon√≠veis para treinamento 17ms
     ‚Üí Cannot convert undefined or null to object
   √ó Machine Learning Preditivo > deve buscar dashboard de ML 14ms
     ‚Üí Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ?
params: 2025-11-27 15:22:02.937
   √ó Machine Learning Preditivo > deve buscar predi√ß√µes recentes 28ms
     ‚Üí Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? order by `ml_predictions`.`predicted_at` desc limit ?
params: 2025-11-27 15:22:02.952,10
   √ó Machine Learning Preditivo > deve calcular acur√°cia do modelo 6ms
     ‚Üí Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? limit ?
params: 2025-11-27 15:22:02.979,1000
   √ó Retreinamento Autom√°tico > deve verificar necessidade de retreinamento 8ms
     ‚Üí Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where (`ml_predictions`.`metric_name` = ? and `ml_predictions`.`component` = ? and `ml_predictions`.`predicted_at` >= ?) limit ?
params: cpu_usage,system,2025-11-27 15:22:02.986,100
stdout | server/auth.logout.test.ts
[Health Checks] Iniciando verifica√ß√µes peri√≥dicas (intervalo: 30000ms)
[Auto-Healing] Iniciando monitoramento (intervalo: 30000ms)

2025-11-28 10:22:03.286753: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:22:03.328754: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
stderr | server/auth.logout.test.ts
[Health Checks] Sistema unhealthy: database, cpu

stdout | server/auth.logout.test.ts
[WhatsApp Web Sim] Servi√ßo inicializado (modo simula√ß√£o)

stdout | server/auth.logout.test.ts
[RedisCache] ‚úÖ Conectado ao Redis com sucesso

2025-11-28 10:22:04.015537: I tensorflow/core/util/util.cc:169] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-11-28 10:22:04.055979: I tensorflow/core/platform/cpu_feature_guard.cc:193] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F AVX512_VNNI FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
 ‚úì server/auth.logout.test.ts (1 test) 5ms
 ‚úì server/routers/apis-personalizadas.test.ts (4 tests) 7847ms
   ‚úì apisPersonalizadas > deve listar APIs personalizadas sem expor chaves 7704ms

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 14 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  server/alerts.test.ts > Sistema de Alertas > deve buscar ou criar configura√ß√£o de alertas
TRPCError: Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/alerts.ts:32:21
     30|     if (!db) throw new Error("Database n√£o dispon√≠vel");
     31| 
     32|     const configs = await db
       |                     ^
     33|       .select()
     34|       .from(alertConfigs)
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
 ‚ùØ server/alerts.test.ts:43:20

Caused by: Error: Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/alerts.ts:32:21
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
 ‚ùØ server/alerts.test.ts:43:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?', params: [ 1, 1 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.alert_configs' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = 1 limit 1', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.alert_configs\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/14]‚éØ

 FAIL  server/alerts.test.ts > Sistema de Alertas > deve atualizar configura√ß√£o de alertas
 FAIL  server/alerts.test.ts > Configura√ß√£o de Alertas > deve validar severidade m√≠nima
 FAIL  server/alerts.test.ts > Configura√ß√£o de Alertas > deve validar throttling
 FAIL  server/alerts.test.ts > Configura√ß√£o de Alertas > deve configurar hor√°rios permitidos
 FAIL  server/alerts.test.ts > Configura√ß√£o de Alertas > deve configurar dias permitidos
TRPCError: Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/alerts.ts:84:24
     82| 
     83|       // Verificar se configura√ß√£o existe
     84|       const existing = await db
       |                        ^
     85|         .select()
     86|         .from(alertConfigs)
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

Caused by: Error: Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/alerts.ts:84:24
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?', params: [ 1, 1 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.alert_configs' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = 1 limit 1', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.alert_configs\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/14]‚éØ

 FAIL  server/alerts.test.ts > Sistema de Alertas > deve listar templates de alertas
TRPCError: Failed query: select `id`, `name`, `type`, `severity`, `email_subject`, `email_body`, `email_html`, `whatsapp_message`, `push_title`, `push_body`, `variables`, `is_active`, `is_system`, `created_at`, `updated_at` from `alert_templates` where `alert_templates`.`is_active` = ?
params: true
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/alerts.ts:170:14
    168|       if (!db) throw new Error("Database n√£o dispon√≠vel");
    169| 
    170|       return await db.select().from(alertTemplates).where(eq(alertTemp‚Ä¶
       |              ^
    171|     }),
    172| 
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
 ‚ùØ server/alerts.test.ts:62:23

Caused by: Error: Failed query: select `id`, `name`, `type`, `severity`, `email_subject`, `email_body`, `email_html`, `whatsapp_message`, `push_title`, `push_body`, `variables`, `is_active`, `is_system`, `created_at`, `updated_at` from `alert_templates` where `alert_templates`.`is_active` = ?
params: true
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/alerts.ts:170:14
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
 ‚ùØ server/alerts.test.ts:62:23

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `name`, `type`, `severity`, `email_subject`, `email_body`, `email_html`, `whatsapp_message`, `push_title`, `push_body`, `variables`, `is_active`, `is_system`, `created_at`, `updated_at` from `alert_templates` where `alert_templates`.`is_active` = ?', params: [ true ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.alert_templates' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `name`, `type`, `severity`, `email_subject`, `email_body`, `email_html`, `whatsapp_message`, `push_title`, `push_body`, `variables`, `is_active`, `is_system`, `created_at`, `updated_at` from `alert_templates` where `alert_templates`.`is_active` = true', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.alert_templates\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/14]‚éØ

 FAIL  server/alerts.test.ts > Sistema de Alertas > deve enviar alerta de teste
TRPCError: Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ getUserAlertConfig server/services/alert-service.ts:142:19
    140|   if (!db) return null;
    141| 
    142|   const configs = await db
       |                   ^
    143|     .select()
    144|     .from(alertConfigs)
 ‚ùØ Module.sendAlert server/services/alert-service.ts:296:18
 ‚ùØ server/routers/alerts.ts:160:14
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20

Caused by: Error: Failed query: select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?
params: 1,1
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ getUserAlertConfig server/services/alert-service.ts:142:19
 ‚ùØ Module.sendAlert server/services/alert-service.ts:296:18
 ‚ùØ server/routers/alerts.ts:160:14
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = ? limit ?', params: [ 1, 1 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.alert_configs' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `user_id`, `email_enabled`, `email_address`, `whatsapp_enabled`, `whatsapp_number`, `push_enabled`, `min_severity`, `anomaly_alerts`, `prediction_alerts`, `error_alerts`, `performance_alerts`, `throttle_minutes`, `allowed_hours`, `allowed_days`, `created_at`, `updated_at` from `alert_configs` where `alert_configs`.`user_id` = 1 limit 1', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.alert_configs\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/14]‚éØ

 FAIL  server/alerts.test.ts > Sistema de Alertas > deve buscar hist√≥rico de alertas
TRPCError: Failed query: select `id`, `user_id`, `config_id`, `type`, `severity`, `title`, `message`, `metadata`, `channels`, `email_sent`, `email_error`, `whatsapp_sent`, `whatsapp_error`, `push_sent`, `push_error`, `source_type`, `source_id`, `sent_at`, `created_at` from `alert_history` where `alert_history`.`user_id` = ? order by `alert_history`.`sent_at` desc limit ?
params: 1,10
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ Module.getAlertHistory server/services/alert-service.ts:456:10
    454|   if (!db) return [];
    455| 
    456|   return await db
       |          ^
    457|     .select()
    458|     .from(alertHistory)
 ‚ùØ server/routers/alerts.ts:115:14
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20

Caused by: Error: Failed query: select `id`, `user_id`, `config_id`, `type`, `severity`, `title`, `message`, `metadata`, `channels`, `email_sent`, `email_error`, `whatsapp_sent`, `whatsapp_error`, `push_sent`, `push_error`, `source_type`, `source_id`, `sent_at`, `created_at` from `alert_history` where `alert_history`.`user_id` = ? order by `alert_history`.`sent_at` desc limit ?
params: 1,10
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ Module.getAlertHistory server/services/alert-service.ts:456:10
 ‚ùØ server/routers/alerts.ts:115:14
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `user_id`, `config_id`, `type`, `severity`, `title`, `message`, `metadata`, `channels`, `email_sent`, `email_error`, `whatsapp_sent`, `whatsapp_error`, `push_sent`, `push_error`, `source_type`, `source_id`, `sent_at`, `created_at` from `alert_history` where `alert_history`.`user_id` = ? order by `alert_history`.`sent_at` desc limit ?', params: [ 1, 10 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.alert_history' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `user_id`, `config_id`, `type`, `severity`, `title`, `message`, `metadata`, `channels`, `email_sent`, `email_error`, `whatsapp_sent`, `whatsapp_error`, `push_sent`, `push_error`, `source_type`, `source_id`, `sent_at`, `created_at` from `alert_history` where `alert_history`.`user_id` = 1 order by `alert_history`.`sent_at` desc limit 10', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.alert_history\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/14]‚éØ

 FAIL  server/ml-prediction.test.ts > Machine Learning Preditivo > deve listar m√©tricas dispon√≠veis para treinamento
TRPCError: Cannot convert undefined or null to object
 ‚ùØ orderSelectedFields node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/utils.ts:78:16
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/utils.ts:89:19
 ‚ùØ orderSelectedFields node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/utils.ts:78:32
 ‚ùØ MySqlSelectBase.prepare node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1132:22
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:15
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

Caused by: TypeError: Cannot convert undefined or null to object
 ‚ùØ orderSelectedFields node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/utils.ts:78:16
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/utils.ts:89:19
 ‚ùØ orderSelectedFields node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/utils.ts:78:32
 ‚ùØ MySqlSelectBase.prepare node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1132:22
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:15
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/14]‚éØ

 FAIL  server/ml-prediction.test.ts > Machine Learning Preditivo > deve buscar dashboard de ML
TRPCError: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ?
params: 2025-11-27 15:22:02.937
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/ml-prediction.ts:239:31
    237| 
    238|     // Predi√ß√µes nas √∫ltimas 24h
    239|     const recentPredictions = await db
       |                               ^
    240|       .select()
    241|       .from(mlPredictions)
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
 ‚ùØ server/ml-prediction.test.ts:49:23

Caused by: Error: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ?
params: 2025-11-27 15:22:02.937
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/ml-prediction.ts:239:31
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20
 ‚ùØ server/ml-prediction.test.ts:49:23

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ?', params: [ '2025-11-27 15:22:02.937' ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.ml_predictions' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= \'2025-11-27 15:22:02.937\'', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.ml_predictions\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/14]‚éØ

 FAIL  server/ml-prediction.test.ts > Machine Learning Preditivo > deve buscar predi√ß√µes recentes
TRPCError: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? order by `ml_predictions`.`predicted_at` desc limit ?
params: 2025-11-27 15:22:02.952,10
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/ml-prediction.ts:113:27
    111|       }
    112| 
    113|       const predictions = await query;
       |                           ^
    114| 
    115|       return predictions;
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

Caused by: Error: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? order by `ml_predictions`.`predicted_at` desc limit ?
params: 2025-11-27 15:22:02.952,10
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/ml-prediction.ts:113:27
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? order by `ml_predictions`.`predicted_at` desc limit ?', params: [ '2025-11-27 15:22:02.952', 10 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.ml_predictions' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= \'2025-11-27 15:22:02.952\' order by `ml_predictions`.`predicted_at` desc limit 10', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.ml_predictions\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/14]‚éØ

 FAIL  server/ml-prediction.test.ts > Machine Learning Preditivo > deve calcular acur√°cia do modelo
TRPCError: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? limit ?
params: 2025-11-27 15:22:02.979,1000
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/ml-prediction.ts:133:27
    131|       const cutoffTime = new Date(Date.now() - input.hoursAgo * 60 * 6‚Ä¶
    132| 
    133|       const predictions = await db
       |                           ^
    134|         .select()
    135|         .from(mlPredictions)
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

Caused by: Error: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? limit ?
params: 2025-11-27 15:22:02.979,1000
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ server/routers/ml-prediction.ts:133:27
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20
 ‚ùØ node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/router.ts:474:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= ? limit ?', params: [ '2025-11-27 15:22:02.979', 1000 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.ml_predictions' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where `ml_predictions`.`predicted_at` >= \'2025-11-27 15:22:02.979\' limit 1000', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.ml_predictions\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[9/14]‚éØ

 FAIL  server/ml-prediction.test.ts > Retreinamento Autom√°tico > deve verificar necessidade de retreinamento
TRPCError: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where (`ml_predictions`.`metric_name` = ? and `ml_predictions`.`component` = ? and `ml_predictions`.`predicted_at` >= ?) limit ?
params: cpu_usage,system,2025-11-27 15:22:02.986,100
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ Module.autoRetrain server/services/ml-prediction-service.ts:359:23
    357|   const cutoffTime = new Date(Date.now() - 24 * 60 * 60 * 1000); // √öl‚Ä¶
    358| 
    359|   const predictions = await db
       |                       ^
    360|     .select()
    361|     .from(mlPredictions)
 ‚ùØ server/routers/ml-prediction.ts:70:25
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20

Caused by: Error: Failed query: select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where (`ml_predictions`.`metric_name` = ? and `ml_predictions`.`component` = ? and `ml_predictions`.`predicted_at` >= ?) limit ?
params: cpu_usage,system,2025-11-27 15:22:02.986,100
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:79:11
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:18
 ‚ùØ Module.autoRetrain server/services/ml-prediction-service.ts:359:23
 ‚ùØ server/routers/ml-prediction.ts:70:25
 ‚ùØ resolveMiddleware node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:571:22
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ callRecursive node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:633:20
 ‚ùØ procedure node_modules/.pnpm/@trpc+server@11.6.0_typescript@5.9.3/node_modules/@trpc/server/src/unstable-core-do-not-import/procedureBuilder.ts:673:20

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { query: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where (`ml_predictions`.`metric_name` = ? and `ml_predictions`.`component` = ? and `ml_predictions`.`predicted_at` >= ?) limit ?', params: [ 'cpu_usage', 'system', '2025-11-27 15:22:02.986', 100 ] }
Caused by: Error: Table 'alejofy2pjgfnshwzrqcd7.ml_predictions' doesn't exist
 ‚ùØ PromisePool.query node_modules/.pnpm/mysql2@3.15.1/node_modules/mysql2/lib/promise/pool.js:36:22
 ‚ùØ node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:133:24
 ‚ùØ MySql2PreparedQuery.queryWithCache node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/session.ts:77:18
 ‚ùØ MySql2PreparedQuery.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql2/session.ts:132:29
 ‚ùØ MySqlSelectBase.execute node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/mysql-core/query-builders/select.ts:1145:25
 ‚ùØ MySqlSelectBase.then node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+pg@8.15.6_mysql2@3.15.1/node_modules/src/query-promise.ts:31:15

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'ER_NO_SUCH_TABLE', errno: 1146, sql: 'select `id`, `metric_name`, `component`, `predicted_value`, `confidence`, `is_anomaly`, `threshold`, `predicted_at`, `predicted_for`, `actual_value`, `created_at` from `ml_predictions` where (`ml_predictions`.`metric_name` = \'cpu_usage\' and `ml_predictions`.`component` = \'system\' and `ml_predictions`.`predicted_at` >= \'2025-11-27 15:22:02.986\') limit 100', sqlState: '42S02', sqlMessage: 'Table \'alejofy2pjgfnshwzrqcd7.ml_predictions\' doesn\'t exist' }
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[10/14]‚éØ

 Test Files  2 failed | 29 passed (31)
      Tests  14 failed | 378 passed | 2 skipped (394)
   Start at  10:21:52
   Duration  18.63s (transform 1.49s, setup 0ms, collect 32.16s, tests 19.34s, environment 8ms, prepare 3.19s)

‚ÄâELIFECYCLE‚Äâ Test failed. See above for more details.
