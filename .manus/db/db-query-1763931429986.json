{
  "query": "CREATE TABLE `deepsite_analyses` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`scrape_id` int NOT NULL,\n\t`analysis_type` varchar(50) NOT NULL,\n\t`summary` text,\n\t`entities` text,\n\t`category` varchar(100),\n\t`language` varchar(10),\n\t`sentiment` varchar(20),\n\t`confidence` int,\n\t`analyzed_at` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `deepsite_analyses_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `deepsite_cache_metadata` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`url` varchar(2048) NOT NULL,\n\t`scrape_id` int NOT NULL,\n\t`cached_at` timestamp NOT NULL DEFAULT (now()),\n\t`expires_at` timestamp,\n\t`hit_count` int DEFAULT 0,\n\t`size` int,\n\tCONSTRAINT `deepsite_cache_metadata_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `deepsite_cache_metadata_url_unique` UNIQUE(`url`)\n);\n\nCREATE TABLE `deepsite_rate_limits` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`domain` varchar(255) NOT NULL,\n\t`crawl_delay` int DEFAULT 1000,\n\t`last_request` timestamp,\n\t`request_count` int DEFAULT 0,\n\t`robots_txt` text,\n\t`robots_updated_at` timestamp,\n\tCONSTRAINT `deepsite_rate_limits_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `deepsite_rate_limits_domain_unique` UNIQUE(`domain`)\n);\n\nCREATE TABLE `deepsite_scrapes` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`url` varchar(2048) NOT NULL,\n\t`html` text,\n\t`metadata` text,\n\t`status` enum('success','failed','pending') NOT NULL DEFAULT 'pending',\n\t`error` text,\n\t`response_time` int,\n\t`scraped_at` timestamp NOT NULL DEFAULT (now()),\n\t`expires_at` timestamp,\n\tCONSTRAINT `deepsite_scrapes_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `scrape_id_idx` ON `deepsite_analyses` (`scrape_id`);\nCREATE INDEX `analysis_type_idx` ON `deepsite_analyses` (`analysis_type`);\nCREATE INDEX `analyzed_at_idx` ON `deepsite_analyses` (`analyzed_at`);\nCREATE INDEX `url_idx` ON `deepsite_cache_metadata` (`url`(255));\nCREATE INDEX `expires_at_idx` ON `deepsite_cache_metadata` (`expires_at`);\nCREATE INDEX `scrape_id_idx` ON `deepsite_cache_metadata` (`scrape_id`);\nCREATE INDEX `domain_idx` ON `deepsite_rate_limits` (`domain`);\nCREATE INDEX `last_request_idx` ON `deepsite_rate_limits` (`last_request`);\nCREATE INDEX `url_idx` ON `deepsite_scrapes` (`url`(255));\nCREATE INDEX `scraped_at_idx` ON `deepsite_scrapes` (`scraped_at`);\nCREATE INDEX `expires_at_idx` ON `deepsite_scrapes` (`expires_at`);\nCREATE INDEX `status_idx` ON `deepsite_scrapes` (`status`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 46yA7HaDwBP5MYq.c5fbe4e16cff --database ALEjofy2PjgFnShwZRqCD7 --execute CREATE TABLE `deepsite_analyses` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`scrape_id` int NOT NULL,\n\t`analysis_type` varchar(50) NOT NULL,\n\t`summary` text,\n\t`entities` text,\n\t`category` varchar(100),\n\t`language` varchar(10),\n\t`sentiment` varchar(20),\n\t`confidence` int,\n\t`analyzed_at` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `deepsite_analyses_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `deepsite_cache_metadata` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`url` varchar(2048) NOT NULL,\n\t`scrape_id` int NOT NULL,\n\t`cached_at` timestamp NOT NULL DEFAULT (now()),\n\t`expires_at` timestamp,\n\t`hit_count` int DEFAULT 0,\n\t`size` int,\n\tCONSTRAINT `deepsite_cache_metadata_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `deepsite_cache_metadata_url_unique` UNIQUE(`url`)\n);\n\nCREATE TABLE `deepsite_rate_limits` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`domain` varchar(255) NOT NULL,\n\t`crawl_delay` int DEFAULT 1000,\n\t`last_request` timestamp,\n\t`request_count` int DEFAULT 0,\n\t`robots_txt` text,\n\t`robots_updated_at` timestamp,\n\tCONSTRAINT `deepsite_rate_limits_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `deepsite_rate_limits_domain_unique` UNIQUE(`domain`)\n);\n\nCREATE TABLE `deepsite_scrapes` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`url` varchar(2048) NOT NULL,\n\t`html` text,\n\t`metadata` text,\n\t`status` enum('success','failed','pending') NOT NULL DEFAULT 'pending',\n\t`error` text,\n\t`response_time` int,\n\t`scraped_at` timestamp NOT NULL DEFAULT (now()),\n\t`expires_at` timestamp,\n\tCONSTRAINT `deepsite_scrapes_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `scrape_id_idx` ON `deepsite_analyses` (`scrape_id`);\nCREATE INDEX `analysis_type_idx` ON `deepsite_analyses` (`analysis_type`);\nCREATE INDEX `analyzed_at_idx` ON `deepsite_analyses` (`analyzed_at`);\nCREATE INDEX `url_idx` ON `deepsite_cache_metadata` (`url`(255));\nCREATE INDEX `expires_at_idx` ON `deepsite_cache_metadata` (`expires_at`);\nCREATE INDEX `scrape_id_idx` ON `deepsite_cache_metadata` (`scrape_id`);\nCREATE INDEX `domain_idx` ON `deepsite_rate_limits` (`domain`);\nCREATE INDEX `last_request_idx` ON `deepsite_rate_limits` (`last_request`);\nCREATE INDEX `url_idx` ON `deepsite_scrapes` (`url`(255));\nCREATE INDEX `scraped_at_idx` ON `deepsite_scrapes` (`scraped_at`);\nCREATE INDEX `expires_at_idx` ON `deepsite_scrapes` (`expires_at`);\nCREATE INDEX `status_idx` ON `deepsite_scrapes` (`status`);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 6605
}