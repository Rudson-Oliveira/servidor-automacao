{
  "query": "CREATE TABLE IF NOT EXISTS `alert_configs` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `enabled` boolean NOT NULL DEFAULT true,\n  `email_enabled` boolean NOT NULL DEFAULT false,\n  `whatsapp_enabled` boolean NOT NULL DEFAULT false,\n  `push_enabled` boolean NOT NULL DEFAULT false,\n  `email` varchar(255),\n  `whatsapp_number` varchar(20),\n  `min_severity` enum('low', 'medium', 'high', 'critical') NOT NULL DEFAULT 'medium',\n  `throttle_minutes` int NOT NULL DEFAULT 15,\n  `quiet_hours_start` time,\n  `quiet_hours_end` time,\n  `alert_types` json,\n  `smtp_host` varchar(255),\n  `smtp_port` int,\n  `smtp_user` varchar(255),\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `alert_history` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `config_id` int,\n  `type` varchar(100) NOT NULL,\n  `severity` enum('low', 'medium', 'high', 'critical') NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `metadata` json,\n  `channels` json NOT NULL,\n  `email_sent` boolean NOT NULL DEFAULT false,\n  `email_error` text,\n  `whatsapp_sent` boolean NOT NULL DEFAULT false,\n  `whatsapp_error` text,\n  `push_sent` boolean NOT NULL DEFAULT false,\n  `push_error` text,\n  `source_type` varchar(100),\n  `source_id` varchar(255),\n  `sent_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `alert_templates` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `name` varchar(100) NOT NULL,\n  `type` varchar(100) NOT NULL,\n  `severity` enum('low', 'medium', 'high', 'critical') NOT NULL,\n  `title_template` varchar(255) NOT NULL,\n  `message_template` text NOT NULL,\n  `email_subject_template` varchar(255),\n  `email_body_template` text,\n  `whatsapp_template` text,\n  `push_title_template` varchar(255),\n  `push_body_template` text,\n  `variables` json,\n  `is_active` boolean NOT NULL DEFAULT true,\n  `created_by` int,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 46yA7HaDwBP5MYq.c5fbe4e16cff --database ALEjofy2PjgFnShwZRqCD7 --execute CREATE TABLE IF NOT EXISTS `alert_configs` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `enabled` boolean NOT NULL DEFAULT true,\n  `email_enabled` boolean NOT NULL DEFAULT false,\n  `whatsapp_enabled` boolean NOT NULL DEFAULT false,\n  `push_enabled` boolean NOT NULL DEFAULT false,\n  `email` varchar(255),\n  `whatsapp_number` varchar(20),\n  `min_severity` enum('low', 'medium', 'high', 'critical') NOT NULL DEFAULT 'medium',\n  `throttle_minutes` int NOT NULL DEFAULT 15,\n  `quiet_hours_start` time,\n  `quiet_hours_end` time,\n  `alert_types` json,\n  `smtp_host` varchar(255),\n  `smtp_port` int,\n  `smtp_user` varchar(255),\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `alert_history` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `user_id` int NOT NULL,\n  `config_id` int,\n  `type` varchar(100) NOT NULL,\n  `severity` enum('low', 'medium', 'high', 'critical') NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `message` text NOT NULL,\n  `metadata` json,\n  `channels` json NOT NULL,\n  `email_sent` boolean NOT NULL DEFAULT false,\n  `email_error` text,\n  `whatsapp_sent` boolean NOT NULL DEFAULT false,\n  `whatsapp_error` text,\n  `push_sent` boolean NOT NULL DEFAULT false,\n  `push_error` text,\n  `source_type` varchar(100),\n  `source_id` varchar(255),\n  `sent_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS `alert_templates` (\n  `id` int AUTO_INCREMENT PRIMARY KEY,\n  `name` varchar(100) NOT NULL,\n  `type` varchar(100) NOT NULL,\n  `severity` enum('low', 'medium', 'high', 'critical') NOT NULL,\n  `title_template` varchar(255) NOT NULL,\n  `message_template` text NOT NULL,\n  `email_subject_template` varchar(255),\n  `email_body_template` text,\n  `whatsapp_template` text,\n  `push_title_template` varchar(255),\n  `push_body_template` text,\n  `variables` json,\n  `is_active` boolean NOT NULL DEFAULT true,\n  `created_by` int,\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 522
}