{
  "query": "CREATE TABLE IF NOT EXISTS agent_telemetry (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  agent_id VARCHAR(100) NOT NULL,\n  version VARCHAR(20),\n  platform VARCHAR(50),\n  device_name VARCHAR(200),\n  cpu_usage DECIMAL(5,2),\n  memory_usage DECIMAL(5,2),\n  uptime_seconds INT,\n  last_heartbeat TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  error_count INT DEFAULT 0,\n  command_count INT DEFAULT 0,\n  plugins_installed JSON,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_agent_id (agent_id),\n  INDEX idx_version (version),\n  INDEX idx_last_heartbeat (last_heartbeat)\n);\n\nCREATE TABLE IF NOT EXISTS agent_update_history (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  agent_id VARCHAR(100) NOT NULL,\n  from_version VARCHAR(20),\n  to_version VARCHAR(20) NOT NULL,\n  update_status ENUM('pending', 'downloading', 'installing', 'success', 'failed', 'rolled_back') DEFAULT 'pending',\n  error_message TEXT,\n  started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  completed_at TIMESTAMP NULL,\n  INDEX idx_agent_id (agent_id),\n  INDEX idx_status (update_status),\n  INDEX idx_started_at (started_at)\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 46yA7HaDwBP5MYq.c5fbe4e16cff --database ALEjofy2PjgFnShwZRqCD7 --execute CREATE TABLE IF NOT EXISTS agent_telemetry (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  agent_id VARCHAR(100) NOT NULL,\n  version VARCHAR(20),\n  platform VARCHAR(50),\n  device_name VARCHAR(200),\n  cpu_usage DECIMAL(5,2),\n  memory_usage DECIMAL(5,2),\n  uptime_seconds INT,\n  last_heartbeat TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  error_count INT DEFAULT 0,\n  command_count INT DEFAULT 0,\n  plugins_installed JSON,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_agent_id (agent_id),\n  INDEX idx_version (version),\n  INDEX idx_last_heartbeat (last_heartbeat)\n);\n\nCREATE TABLE IF NOT EXISTS agent_update_history (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  agent_id VARCHAR(100) NOT NULL,\n  from_version VARCHAR(20),\n  to_version VARCHAR(20) NOT NULL,\n  update_status ENUM('pending', 'downloading', 'installing', 'success', 'failed', 'rolled_back') DEFAULT 'pending',\n  error_message TEXT,\n  started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  completed_at TIMESTAMP NULL,\n  INDEX idx_agent_id (agent_id),\n  INDEX idx_status (update_status),\n  INDEX idx_started_at (started_at)\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 378
}